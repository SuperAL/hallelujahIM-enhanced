![Platform:macOS](https://img.shields.io/badge/platform-macOS-blue)
![Platform:windows](https://img.shields.io/badge/platform-windows-blue)
![Platform:linux](https://img.shields.io/badge/platform-linux-blue)
![github actions](https://github.com/dongyuwei/hallelujahIM/actions/workflows/github-actions-ci.yml/badge.svg)
[![License: GPL v3](https://img.shields.io/badge/License-GPL%20v3-blue.svg)](http://www.gnu.org/licenses/gpl-3.0)
[![GitHub downloads](https://img.shields.io/github/downloads/dongyuwei/hallelujahIM/total?label=Downloads&labelColor=27303D&color=0D1117&logo=github&logoColor=FFFFFF&style=flat)](https://github.com/dongyuwei/hallelujahIM/releases)

**ä¸­æ–‡ç‰ˆ** | [English Version](README-En.md)

# ğŸš€ å“ˆåˆ©è·¯äºšè‹±æ–‡è¾“å…¥æ³• Enhanced

> **æœ¬å¢å¼ºç‰ˆåŒ…å« 6 é¡¹é‡å¤§æ”¹è¿›ï¼Œæ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒï¼**

## âœ¨ Enhanced å¢å¼ºåŠŸèƒ½

### 1ï¸âƒ£ â **æ™ºèƒ½ Enter é”®è¡Œä¸º**
- **Enter æäº¤åŸå§‹è¾“å…¥** - å½“æœªè¿›è¡Œå€™é€‰è¯å¯¼èˆªæ—¶
- **Enter æäº¤é€‰ä¸­å€™é€‰è¯** - å½“å·²å¯¼èˆªé€‰æ‹©å€™é€‰è¯æ—¶
- ä¿æŒè‡ªç„¶æ‰“å­—æµç¨‹ï¼Œå°Šé‡ç”¨æˆ·æ„å›¾

### 2ï¸âƒ£ ğŸš€ **æ™ºèƒ½ Space é”®å¿«é€Ÿé€‰æ‹©**
- **Space ç«‹å³é€‰æ‹©é¦–ä¸ªæ¨èå€™é€‰è¯**
- å€™é€‰è¯åˆ—è¡¨ä¸­ç§»é™¤åŸå§‹è¾“å…¥ï¼Œä»…æ˜¾ç¤ºå»ºè®®è¯
- æ— éœ€å¯¼èˆªå³å¯å¿«é€Ÿé€‰æ‹©æœ€ä½³æ¨è

### 3ï¸âƒ£ ğŸ“ **é»˜è®¤æ¨ªå‘å€™é€‰è¯æ˜¾ç¤º**
- ä½¿ç”¨**ç´§å‡‘æ¨ªå‘å¸ƒå±€**ï¼Œæ›´å¥½åˆ©ç”¨å±å¹•ç©ºé—´
- æ›´ç†Ÿæ‚‰é«˜æ•ˆçš„ç•Œé¢è®¾è®¡
- æœ€ä¼˜å±å¹•ç©ºé—´åˆ©ç”¨

### 4ï¸âƒ£ â¬†ï¸â¬‡ï¸ **å³æ—¶ç®­å¤´é”®å±•å¼€**
- ä¸Šä¸‹ç®­å¤´é”®**ç«‹å³å±•å¼€**å€™é€‰è¯é¢æ¿
- æ— éœ€æŒ‰ä¸¤æ¬¡ - é¦–æ¬¡æŒ‰é”®å³ç”Ÿæ•ˆ
- æµç•…å“åº”çš„å¯¼èˆªä½“éªŒ

### 5ï¸âƒ£ ğŸ”¢ **æ™ºèƒ½æ•°å­—é”®é€‰æ‹©**
- æ•°å­—é”® (1-9) æ­£ç¡®é€‰æ‹©**å½“å‰å¯è§è¡Œ**çš„å€™é€‰è¯
- æ¶ˆé™¤è§†è§‰ä½ç½®ä¸å®é™…é€‰æ‹©çš„æ··æ·†
- å®Œç¾æ”¯æŒå¤šè¡Œå€™é€‰è¯æ˜¾ç¤º

### 6ï¸âƒ£ ğŸ”§ **å¢å¼ºå¯é æ€§ä¸è°ƒè¯•**
- æ›´å¥½çš„ macOS è¾“å…¥æ³•æ¡†æ¶ (IMK) åŒæ­¥
- å…¨é¢çš„è°ƒè¯•å’Œé”™è¯¯å¤„ç†
- æ›´å¯é çš„å€™é€‰è¯é€‰æ‹©å’Œå¯¼èˆª

---

å“ˆåˆ©è·¯äºšè‹±æ–‡è¾“å…¥æ³• æ˜¯ Mac(10.9+ OSX)åŠ Windows å¹³å°ä¸Šä¸€æ¬¾æ™ºèƒ½è‹±è¯­è¾“å…¥æ³•ã€‚å…¶ç‰¹æ€§å¦‚ä¸‹ï¼š

1. ç¦»çº¿è¯åº“è¾ƒå¤§è¾ƒå…¨ï¼Œè¯é¢‘ç²¾å‡†ã€‚å‚è§ Google's [1/3 million most frequent English words](http://norvig.com/ngrams/count_1w.txt).
2. å†…ç½®æ‹¼å†™æ ¡æ­£åŠŸèƒ½ã€‚ä¸ç”¨æ‹…å¿ƒæ‹¼å†™é”™è¯¯ï¼Œèƒ½è®°ä½å¤§æ¦‚å­—å½¢ã€å‘éŸ³ï¼Œæœ¬è¾“å…¥æ³•å°±ä¼šè‡ªåŠ¨æ˜¾ç¤ºæœ€å¯èƒ½çš„å€™é€‰è¯ã€‚
3. å…·å¤‡ Text-Expander åŠŸèƒ½ã€‚ æœ¬è¾“å…¥æ³•ä¼šè‡ªåŠ¨è¯»å–å®šä¹‰åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„`~/.you_expand_me.json` æ–‡ä»¶ï¼Œä½ å¯ä»¥å®šä¹‰è‡ªå·±å¸¸ç”¨çš„è¯ç»„ï¼Œæ¯”å¦‚ `{"yem":"you expand me"}`ï¼Œé‚£ä¹ˆå½“è¾“å…¥ `yem` æ—¶ä¼šæ˜¾ç¤º `you expand me`ã€‚ä¿®æ”¹è¯¥æ–‡ä»¶å†…å®¹åéœ€è¦é‡å¯è¾“å…¥æ³•è¿›ç¨‹æ‰èƒ½ç”Ÿæ•ˆã€‚
4. å³æ—¶ç¿»è¯‘åŠŸèƒ½(æ˜¾ç¤ºéŸ³æ ‡ï¼ŒåŠè‹±æ–‡å•è¯çš„ä¸­æ–‡é‡Šä¹‰)ã€‚
5. æ”¯æŒæŒ‰æ‹¼éŸ³æ¥è¾“å‡ºå¯¹åº”è‹±æ–‡ã€‚å¦‚è¾“å…¥`suanfa`ï¼Œè¾“å…¥æ³•ä¼šå€™é€‰è¯ä¸­ä¼šæ˜¾ç¤º `algorithm`ã€‚
6. æ”¯æŒæŒ‰è‹±æ–‡å•è¯çš„æ¨¡ç³ŠéŸ³æ¥è¾“å…¥ã€‚ å¦‚è¾“å…¥ `cerrage` æˆ–è€… `kerrage` å¯ä»¥å¾—åˆ° `courage` å€™é€‰è¯ï¼Œä¹Ÿå¯ä»¥è¾“å…¥ `aosome` æˆ–è€… `ausome` æ¥å¾—åˆ° `awesome` å€™é€‰è¯ã€‚
7. æŒ‰é”®ç›˜å³ä¾§`shift` é”®å¯ä»¥åœ¨æ™ºèƒ½è‹±è¯­è¾“å…¥æ¨¡å¼ä¸ä¼ ç»Ÿè‹±è¯­è¾“å…¥æ¨¡å¼é—´åˆ‡æ¢ã€‚
8. é€‰è¯æ–¹å¼ï¼šæ•°å­—é”® 1~9 åŠ `Enter` å›è½¦é”®å’Œ `Space` ç©ºæ ¼é”®å‡å¯é€‰è¯æäº¤ã€‚`Space` ç©ºæ ¼é”®é€‰è¯é»˜è®¤ä¼šè‡ªåŠ¨é™„åŠ ä¸€ä¸ªç©ºæ ¼åœ¨å•è¯åé¢ï¼Œå¯ä»¥åœ¨é…ç½®é¡µé¢å…³é—­è‡ªåŠ¨é™„åŠ ç©ºæ ¼åŠŸèƒ½ã€‚`Enter` å›è½¦é”®é€‰è¯åˆ™ä¸ä¼šé™„åŠ ç©ºæ ¼ã€‚

# ä¸‹è½½ä¸å®‰è£…

## ğŸš€ **å¢å¼ºç‰ˆä¸‹è½½ï¼ˆæ¨èï¼‰**

**HallelujahIM Enhanced** - åŒ…å«6é¡¹é‡å¤§ç”¨æˆ·ä½“éªŒæ”¹è¿›ï¼š

- **macOS 10.12 åŠä»¥ä¸Šç‰ˆæœ¬**ï¼š ä¸‹è½½ **å¢å¼ºç‰ˆæœ€æ–°ç‰ˆ** : https://github.com/SuperAL/hallelujahIM-enhanced/releases/latest ä¸‹è½½ pkg è‡ªåŠ¨å®‰è£…æ–‡ä»¶

## ğŸ“¦ **åŸç‰ˆä¸‹è½½**

1. ä¸‹è½½ç¼–è¯‘å¥½çš„è¾“å…¥æ³•åº”ç”¨ï¼ˆæ³¨æ„ï¼šä¸è¦ç‚¹å‡» "Clone or download"ï¼Œè¦ä»ä¸‹é¢çš„é“¾æ¥ä¸‹è½½ pkg æ–‡ä»¶æˆ–è€… exe æ–‡ä»¶ï¼‰

- macOS 10.12 åŠä»¥ä¸Šç‰ˆæœ¬ï¼š ä¸‹è½½ **åŸç‰ˆ** : https://github.com/dongyuwei/hallelujahIM/releases/latest ä¸‹è½½ pkg è‡ªåŠ¨å®‰è£…æ–‡ä»¶
- macOS 10.9 ~ 10.11 è€ç‰ˆæœ¬ï¼ˆDeprecated versionï¼‰: https://github.com/dongyuwei/hallelujahIM/releases/tag/v1.1.1 éœ€è¦æ‰‹åŠ¨å®‰è£… app æ–‡ä»¶
- **Windows ç‰ˆæœ¬**: åŸºäº PIME ç§»æ¤åˆ° Windows å¹³å°ï¼Œhttps://github.com/dongyuwei/Hallelujah-Windows ä¸‹è½½ exe å®‰è£…æ–‡ä»¶
- Linuxï¼šhttps://github.com/fcitx-contrib/fcitx5-hallelujah æ„Ÿè°¢[Qijia Liu](https://github.com/eagleoflqj)ï¼
- Android: https://github.com/dongyuwei/Hallelujah-Android æµ‹è¯•ç‰ˆ
- iOS: https://github.com/my-private-code/Luckey-SimpleKeyboard æµ‹è¯•ç‰ˆ

2. æ‰“å¼€ä¸‹è½½åçš„ hallelujah .pkg æ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨å®‰è£…ã€æ³¨å†Œã€æ¿€æ´»å“ˆåˆ©è·¯äºšè¾“å…¥æ³•ã€‚

> **âš ï¸ Attention:** Macç³»ç»Ÿå¦‚æœæœ¬è¾“å…¥æ³•ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œè¯·é€€å‡ºå½“å‰ç”¨æˆ·é‡æ–°ç™»å½•ï¼Œåœ¨ Input source ä¸­æ‰‹åŠ¨åˆ é™¤å†é‡æ–°æ·»åŠ  Hallelujah è¾“å…¥æ³•.

> **âš ï¸ Attention:** macOS 14 ä»¥ä¸Šç³»ç»Ÿç”¨æˆ·éœ€è¦åœ¨ Input source ä¸­æ‰‹åŠ¨æ·»åŠ  Hallelujah è¾“å…¥æ³•ï¼š
<img width="651" alt="image" src="https://github.com/user-attachments/assets/f68fbe99-f62b-496d-9233-3de6f1ad2f87" />
<img width="581" alt="image" src="https://github.com/user-attachments/assets/b2573ad0-3dbf-44c9-80f2-127c96811c66" />



æ³¨æ„ï¼šå› ä¸ºæœ¬ç¨‹åºä¸æ˜¯é€šè¿‡ App store å‘å¸ƒçš„ï¼ŒMacos ä¼šæœ‰ä¸‹é¢çš„å®‰å…¨è­¦å‘Šã€‚é€‰ä¸­ hallelujah pkg å®‰è£…ç¨‹åºï¼Œå³é”®ç‚¹å‡» `Open` æ¥æ‰“å¼€ï¼Œå³å¯å¼€å§‹å®‰è£…è¾“å…¥æ³•ã€‚

![unidentified](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/unidentified.png?raw=true)

# ä¸ºä»€ä¹ˆå« hallelujah è¿™ä¸ªåå­—?

ä¸»è¦æ˜¯å—è¿™ç¯‡æ–‡ç« å¯å‘ï¼š [hallelujah_autocompletion](https://daringfireball.net/2006/10/hallelujah_autocompletion).

# å°‘æ•°æ´¾ç½‘å‹ï¼ˆ@åŒ—å ‚å²šèˆï¼‰æµ‹è¯„

[è‹±æ–‡æ‹¼å†™å¿ƒé‡Œã€Œæ²¡åº•ã€ï¼Ÿè¿™ä¸ªè¾“å…¥æ³•èƒ½æŠŠæ‹¼éŸ³è¡¥å…¨ä¸ºè‹±æ–‡ï¼šå“ˆåˆ©è·¯äºšè¾“å…¥æ³•](https://sspai.com/post/56572)

# åå¥½è®¾ç½®

ç‚¹å‡»è¾“å…¥æ³•çš„ `Preferences` æˆ–è€…ç›´æ¥è®¿é—®æœ¬åœ° HTTP æœåŠ¡: http://localhost:62718/index.html
![preference](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/preference.png)

## ç¼–è¯‘æœ¬è¾“å…¥æ³•

1. `open hallelujah.xcworkspace` ä½¿ç”¨ Xcode æ‰“å¼€ `hallelujah.xcworkspace` å·¥ç¨‹ï¼Œæ³¨æ„ä¸æ˜¯æ‰“å¼€ `hallelujah.xcodeproj`ã€‚
2. `command + b` æ„å»º.
3. æ„å»ºç¼–è¯‘åçš„è¾“å…¥æ³•å¯ä»¥æ‹·è´åˆ° `/Library/Input\ Methods/` ç›®å½•å†…æµ‹è¯•ã€‚

## å¦‚ä½•è°ƒè¯•è¾“å…¥æ³•ï¼Ÿ

1. ä½¿ç”¨ `NSLog()` åœ¨å…³é”®æˆ–å¯ç–‘å¤„æ‰“ log æ—¥å¿—ã€‚
2. æ²¡æœ‰ log è¾“å‡ºæ—¶ï¼Œå¯ä»¥æŸ¥çœ‹å´©æºƒæ—¥å¿—ï¼Œä½ç½®å¯é€šè¿‡ `ls -l ~/Library/Logs/DiagnosticReports/ | grep hallelujah` å‘½ä»¤æ¥æŸ¥æ‰¾ã€‚
3. æ·±æ€ç†Ÿè™‘ã€‚
4. ä½¿ç”¨ debug ç‰ˆ buildï¼Œåœ¨ Xcode ä¸­ `Debug` -> `Attach to Process By PID or Name...` ã€‚è¿™ä¸ªæµç¨‹å¯ä»¥ workï¼Œä½† Xcode ååº”ä¼šè¾ƒæ…¢ï¼Œéœ€è¦åœ¨åˆé€‚çš„åœ°æ–¹åŠ æ–­ç‚¹ã€‚å¤§æ€å™¨ï¼Œä¸å¾—å·²è€Œç”¨ä¹‹ã€‚
5. è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆåç»­é‡æ„ç›®æ ‡å°±æ˜¯å¯æµ‹è¯•æ€§è¦åŠ å¼ºï¼‰ã€‚

## æ ¼å¼åŒ–ä»£ç 

- `sh format-code.sh`

## CI build

`sh build.sh`

## local dev script

`sh dev.sh`

## æ„å»ºå®‰è£…åŒ… pkg

`bash package/build-package.bash`

## DeepWiki
https://www.deepwiki.com/dongyuwei/hallelujahIM

## å¼€æºåè®®

GPL3(GNU GENERAL PUBLIC LICENSE Version 3)

## æ„å»º libmarisa.a

1. The static `libmarisa.a` lib was built from [marisa-trie](https://github.com/s-yata/marisa-trie) @`006020c1df76d0d7dc6118dacc22da64da2e35c4`.
2. To build the `libmarisa.a` lib, run:

```bash
git clone git://github.com/s-yata/marisa-trie.git
cd marisa-trie
brew install autoconf automake libtool -verbose ## proxychains4 -f /usr/local/etc/proxychains.conf brew install autoconf automake libtool -verbose
autoreconf -i
./configure --enable-static
make
## ls -alh lib/marisa/.libs/libmarisa.a
make install ## we can use marisa-build marisa-lookup marisa-reverse-lookup marisa-common-prefix-search marisa-predictive-search marisa-dump marisa-benchmark cli commands to do some tests and pre-build the trie data.
```

## æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®:

1. [marisa-trie](https://github.com/s-yata/marisa-trie)ï¼Œè¾“å…¥æ—¶å‰ç¼€åŒ¹é…çš„æ•°æ®ç»“æ„åŠç®—æ³•å®ç°ï¼Œç‰¹ç‚¹æ˜¯é«˜æ€§èƒ½ã€èŠ‚çœç©ºé—´ï¼Œå¯ä»¥é¢„å…ˆæ„å»ºå¥½ trie æ ‘å†ååºåˆ—åŒ–åˆ°å†…å­˜ä¸­ã€‚
2. dictionary/cedict.json is transformed from [cc-cedict](https://cc-cedict.org/wiki/)ï¼Œæ‹¼éŸ³-è‹±è¯­è¯åº“ã€‚
3. [cmudict](http://www.speech.cs.cmu.edu/cgi-bin/cmudict) and https://github.com/mphilli/English-to-IPAï¼Œ å›½é™…éŸ³æ ‡ã€‚
4. [GCDWebServer](https://github.com/swisspol/GCDWebServer)ï¼Œç”¨äºç”¨æˆ·ä½¿ç”¨åå¥½é…ç½®ã€‚
5. [talisman](https://github.com/Yomguithereal/talisman)ï¼Œä½¿ç”¨å…¶ä¸­çš„ phonex ç®—æ³•ï¼Œå®ç°æ¨¡ç³Šè¿‘ä¼¼éŸ³è¾“å…¥ã€‚
6. [MDCDamerauLevenshtein](https://github.com/modocache/MDCDamerauLevenshtein)ï¼Œé…åˆ talisman çš„ phonex ç®—æ³•ï¼Œåœ¨éŸ³ä¼¼è¯ä¸­æŒ‰ Damerau Levenshtein ç¼–è¾‘è·ç¦»ç­›é€‰æœ€æ¥è¿‘çš„å€™é€‰è¯ã€‚
7. [é¼ é¬šç®¡ squirrel è¾“å…¥æ³•](https://github.com/rime/squirrel) å“ˆåˆ©è·¯äºšè¾“å…¥æ³•å®‰è£…åŒ… pkg çš„åˆ¶ä½œ copy/å‚è€ƒäº† squirrel çš„å®ç°ã€‚

## è´¡çŒ®ä»£ç 

æäº¤ PR ä¹‹å‰è¯·æ‰§è¡Œ `sh format-code.sh` æ ¼å¼åŒ–ä»£ç ã€‚

## é—®é¢˜åé¦ˆï¼Œæ„è§å’Œå»ºè®®

è¯·æäº¤é—®é¢˜å•åˆ° https://github.com/dongyuwei/hallelujahIM/issues

## å’¨è¯¢æœåŠ¡

æä¾›è¾“å…¥æ³•åŠŸèƒ½å®šåˆ¶å¼€å‘ã€‚è”ç³»æ–¹å¼ï¼š

- å¾®ä¿¡: dongyuwei
- gmail: newdongyuwei

### ä¸€äº›æˆªå›¾

auto suggestion from local dictionary:<br/>
![auto-suggestion](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/suggestions.png)
![auto-suggestion](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/suggestions2.png)
![auto-suggestion](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/suggestions3.png)

Text Expander: <br/>
![Text Expander](https://github.com/dongyuwei/hallelujahIM/blob/textExpander/snapshots/text_expander1.png)
![Text Expander](https://github.com/dongyuwei/hallelujahIM/blob/textExpander/snapshots/text_expander2.png)

translation(inspired by [MacUIM](https://github.com/uim/uim/wiki/What%27s-uim%3F)):<br/>
![translation](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/translation.png)

spell check:<br/>
![spell-check](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/check.png)
![spell-check](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/check2.png)
![spell-check](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/check3.png)
![spell-check](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/check4.png)
![spell-check](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/check5.png)

pinyin in, English out: <br/>
![pinyin](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/gaoji.png)
![pinyin](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/binmayong.png)
![pinyin](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/kexikehe.png)
![pinyin](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/laozi.png)
![pinyin](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/roujiamo.png)
![pinyin](https://github.com/dongyuwei/hallelujahIM/blob/master/snapshots/xiangbudao.png)

## Star History

[![Star History Chart](https://api.star-history.com/svg?repos=dongyuwei/hallelujahIM&type=Date)](https://star-history.com/#dongyuwei/hallelujahIM&Date)
